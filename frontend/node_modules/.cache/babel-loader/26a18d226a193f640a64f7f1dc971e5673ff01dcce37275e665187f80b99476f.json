{"ast":null,"code":"import _objectSpread from\"C:/Users/gutyp/Downloads/project (2)/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setToken,setUsername}=_ref;const[formData,setFormData]=useState({username:'',password:''});const[showRegister,setShowRegister]=useState(false);const[newUser,setNewUser]=useState({nombre:'',username:'',password:''});const handleLogin=async e=>{e.preventDefault();try{const res=await axios.post('http://localhost:5000/api/usuarios/login',formData);const token=res.data.token;const payload=JSON.parse(atob(token.split('.')[1]));localStorage.setItem('token',token);localStorage.setItem('username',payload.username);setToken(token);setUsername(payload.username);alert('Inicio de sesión exitoso');}catch(err){alert('Error al iniciar sesión');}};const handleRegister=async()=>{try{await axios.post('http://localhost:5000/api/usuarios/create',{username:newUser.username,password:newUser.password});alert('Usuario registrado correctamente');setShowRegister(false);}catch(err){alert('Error al registrar usuario');}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center min-h-screen bg-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded shadow-md w-full max-w-sm\",children:!showRegister?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center\",children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Usuario\",value:formData.username,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{username:e.target.value})),required:true,className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a\",value:formData.password,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{password:e.target.value})),required:true,className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-600 text-white w-full py-2 rounded\",children:\"Ingresar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-sm text-blue-600 underline block text-center\",onClick:()=>setShowRegister(true),children:\"\\xBFNo ten\\xE9s cuenta? Registrate\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-center\",children:\"Crear cuenta\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre\",placeholder:\"Nombre y apellido\",value:newUser.nombre,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{nombre:e.target.value})),className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Usuario\",value:newUser.username,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{username:e.target.value})),className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Contrase\\xF1a\",value:newUser.password,onChange:e=>setNewUser(_objectSpread(_objectSpread({},newUser),{},{password:e.target.value})),className:\"border p-2 w-full\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 text-white w-full py-2 rounded\",onClick:handleRegister,children:\"Registrarme\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-sm text-gray-600 underline block text-center\",onClick:()=>setShowRegister(false),children:\"Cancelar\"})]})})});};export default Login;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Login","_ref","setToken","setUsername","formData","setFormData","username","password","showRegister","setShowRegister","newUser","setNewUser","nombre","handleLogin","e","preventDefault","res","post","token","data","payload","JSON","parse","atob","split","localStorage","setItem","alert","err","handleRegister","className","children","onSubmit","type","name","placeholder","value","onChange","_objectSpread","target","required","onClick"],"sources":["C:/Users/gutyp/Downloads/project (2)/frontend/src/components/Login.js"],"sourcesContent":["\r\n\r\n\r\nimport React, { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Login = ({ setToken, setUsername }) => {\r\n  const [formData, setFormData] = useState({ username: '', password: '' })\r\n  const [showRegister, setShowRegister] = useState(false)\r\n  const [newUser, setNewUser] = useState({ nombre: '', username: '', password: '' })\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const res = await axios.post('http://localhost:5000/api/usuarios/login', formData)\r\n      const token = res.data.token\r\n      const payload = JSON.parse(atob(token.split('.')[1]))\r\n      localStorage.setItem('token', token)\r\n      localStorage.setItem('username', payload.username)\r\n      setToken(token)\r\n      setUsername(payload.username)\r\n      alert('Inicio de sesión exitoso')\r\n    } catch (err) {\r\n      alert('Error al iniciar sesión')\r\n    }\r\n  }\r\n\r\n  const handleRegister = async () => {\r\n    try {\r\n      await axios.post('http://localhost:5000/api/usuarios/create', {\r\n        username: newUser.username,\r\n        password: newUser.password\r\n      })\r\n      alert('Usuario registrado correctamente')\r\n      setShowRegister(false)\r\n    } catch (err) {\r\n      alert('Error al registrar usuario')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center min-h-screen bg-gray-100\">\r\n      <div className=\"bg-white p-6 rounded shadow-md w-full max-w-sm\">\r\n        {!showRegister ? (\r\n          <form onSubmit={handleLogin} className=\"space-y-4\">\r\n            <h2 className=\"text-xl font-bold text-center\">Iniciar sesión</h2>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Usuario\"\r\n              value={formData.username}\r\n              onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n              required\r\n              className=\"border p-2 w-full\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Contraseña\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n              required\r\n              className=\"border p-2 w-full\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-green-600 text-white w-full py-2 rounded\"\r\n            >\r\n              Ingresar\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"text-sm text-blue-600 underline block text-center\"\r\n              onClick={() => setShowRegister(true)}\r\n            >\r\n              ¿No tenés cuenta? Registrate\r\n            </button>\r\n          </form>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            <h2 className=\"text-xl font-bold text-center\">Crear cuenta</h2>\r\n            <input\r\n              type=\"text\"\r\n              name=\"nombre\"\r\n              placeholder=\"Nombre y apellido\"\r\n              value={newUser.nombre}\r\n              onChange={(e) => setNewUser({ ...newUser, nombre: e.target.value })}\r\n              className=\"border p-2 w-full\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Usuario\"\r\n              value={newUser.username}\r\n              onChange={(e) => setNewUser({ ...newUser, username: e.target.value })}\r\n              className=\"border p-2 w-full\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Contraseña\"\r\n              value={newUser.password}\r\n              onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}\r\n              className=\"border p-2 w-full\"\r\n            />\r\n            <button\r\n              className=\"bg-green-600 text-white w-full py-2 rounded\"\r\n              onClick={handleRegister}\r\n            >\r\n              Registrarme\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"text-sm text-gray-600 underline block text-center\"\r\n              onClick={() => setShowRegister(false)}\r\n            >\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}